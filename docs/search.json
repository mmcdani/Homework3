[
  {
    "objectID": "Homework3.html",
    "href": "Homework3.html",
    "title": "Homework3",
    "section": "",
    "text": "Load data lists from homework 2\nload(\"hw2_list.rda\")"
  },
  {
    "objectID": "Homework3.html#task-1-control-flow-practice",
    "href": "Homework3.html#task-1-control-flow-practice",
    "title": "Homework3",
    "section": "Task 1: Control Flow Practice",
    "text": "Task 1: Control Flow Practice\nFor this task we want to characterize the post-treatment (or placebo) blood pressure measurement as optimal (≤ 120), borderline (120 &lt; bp ≤ 130), and high (&gt; 130).\nLoad data frames\n\nbp_list$treatment\n\n              patient pre_bp post_bp diff_bp normal\nSubject_1   Subject_1    120     127      -7  FALSE\nSubject_2   Subject_2    151     145       6  FALSE\nSubject_3   Subject_3    125     135     -10  FALSE\nSubject_4   Subject_4    126     122       4  FALSE\nSubject_5   Subject_5    115     115       0   TRUE\nSubject_6   Subject_6    132     122      10  FALSE\nSubject_7   Subject_7    132     123       9  FALSE\nSubject_8   Subject_8    129     126       3  FALSE\nSubject_9   Subject_9    134     126       8  FALSE\nSubject_10 Subject_10    139     129      10  FALSE\nSubject_11 Subject_11    127     132      -5  FALSE\nSubject_12 Subject_12    122     146     -24  FALSE\nSubject_13 Subject_13    127     120       7  FALSE\nSubject_14 Subject_14    135     114      21   TRUE\nSubject_15 Subject_15    133     121      12  FALSE\nSubject_16 Subject_16    128     120       8  FALSE\nSubject_17 Subject_17    147     128      19  FALSE\nSubject_18 Subject_18    138     120      18  FALSE\nSubject_19 Subject_19    140     133       7  FALSE\nSubject_20 Subject_20    132     115      17   TRUE\n\nbp_list$placebo\n\n      patient pre_bp post_bp diff_bp normal\n1   Subject_1    138     105      33   TRUE\n2   Subject_2    135     136      -1  FALSE\n3   Subject_3    147     123      24  FALSE\n4   Subject_4    117     130     -13  FALSE\n5   Subject_5    152     134      18  FALSE\n6   Subject_6    134     143      -9  FALSE\n7   Subject_7    114     135     -21  FALSE\n8   Subject_8    121     139     -18  FALSE\n9   Subject_9    131     120      11  FALSE\n10 Subject_10    130     124       6  FALSE\n\n\nCreate a data frame from above called status\n\nnames(bp_list) &lt;- c(\"treatment\", \"placebo\")\n\nbp_list$treatment$status &lt;- character(20)\nbp_list$placebo$status &lt;- character(10)\n#treatment had 20 observations and placebo had 10 observations\n\nSuppose we want to characterize the post-treatment (or placebo) blood pressure measurement as optimal (≤ 120), borderline (120 &lt; bp ≤ 130), and high (&gt; 130).\n\n  for (i in 1:nrow(bp_list[[1]])) {\n    post_bp &lt;- bp_list[[1]]$post[i]\n    if (post_bp &gt; 130) {\n    bp_list[[1]]$status[i] &lt;- \"high\"\n  }  else if (post_bp &gt; 120 & post_bp &lt;= 130) {\n      bp_list[[1]]$status[i] &lt;- \"borderline\"\n  }  else if (post_bp &lt;= 120) {\n      bp_list[[1]]$status[i] &lt;- \"optimal\"\n  }  else {\n      print(\"error\")\n  }\n}\n\nCreate the status column’s values and repeat for the placebo data frame (within the list)\n\n for (i in 1:nrow(bp_list[[2]])) {\n    post_bp &lt;- bp_list[[2]]$post[i]\n    if (post_bp &gt; 130) {\n    bp_list[[2]]$status[i] &lt;- \"high\"\n  }  else if (post_bp &gt; 120 & post_bp &lt;= 130) {\n      bp_list[[2]]$status[i] &lt;- \"borderline\"\n  }  else if (post_bp &lt;= 120) {\n      bp_list[[2]]$status[i] &lt;- \"optimal\"\n  }  else {\n      bp_list[[2]]$status[i] &lt;- \"error\"\n  }\n}"
  },
  {
    "objectID": "Homework3.html#task-2-function-writing",
    "href": "Homework3.html#task-2-function-writing",
    "title": "Homework3",
    "section": "Task 2: Function Writing",
    "text": "Task 2: Function Writing\nWrite a function that tales a list with treatment and placebo data frame as an argument. Gives no default value takes in an R function with the default value being set to “mean”.Finds the statistic of interest for the pre, post, and diff columns of both data frames.– Use my_fun &lt;- get(stat) within the function to get the function from the quoted string.\n\n#write a function with the treatment and placebo data frame\nsummary_bp &lt;- function(df_list, stat = \"mean\") {\n  my_fun &lt;- get(stat) #get function from quoted string\n \n#get treatment and placebo data frames\n  treatment_df &lt;- df_list[[1]]\n  placebo_df &lt;- df_list[[2]]\n  \n#create a vector for statistic values\nvalues &lt;- c(\n  my_fun(treatment_df$pre, na.rm = TRUE),\n  my_fun(treatment_df$post, na.rm = TRUE),\n  my_fun(treatment_df$diff, na.rm = TRUE),\n  my_fun(placebo_df$pre, na.rm = TRUE),\n  my_fun(placebo_df$post, na.rm = TRUE),\n  my_fun(placebo_df$diff, na.rm = TRUE)\n)\n\n#create a vector of names that is created dynamically based on the statistic passed, create a vector with the actual statistic values, and then assign names() to your vector.\n\nnames(values) &lt;- paste0(stat, \"_\",\n                        rep(c(\"treatment\", \"placebo\"), each =3), \"_\",\n                        rep(c(\"pre\",\"post\",\"diff\"), 2))\nreturn(values)\n}\n\nApply function to list of data frames\n\nsummary_bp(bp_list)\n\n mean_treatment_pre mean_treatment_post mean_treatment_diff    mean_placebo_pre \n             131.60              125.95                5.65              131.90 \n  mean_placebo_post   mean_placebo_diff \n             128.90                3.00 \n\n\nUse it without specifying your statistic, with specifying your statistic as “var”, “sd”, “min”, and “max”\n\nsummary_bp(bp_list, \"var\")\n\n var_treatment_pre var_treatment_post var_treatment_diff    var_placebo_pre \n          75.72632           78.99737          117.81842          149.87778 \n  var_placebo_post   var_placebo_diff \n         124.98889          341.33333 \n\nsummary_bp(bp_list, \"sd\")\n\n sd_treatment_pre sd_treatment_post sd_treatment_diff    sd_placebo_pre \n         8.702087          8.888046         10.854419         12.242458 \n  sd_placebo_post   sd_placebo_diff \n        11.179843         18.475209 \n\nsummary_bp(bp_list, \"min\")\n\n min_treatment_pre min_treatment_post min_treatment_diff    min_placebo_pre \n               115                114                -24                114 \n  min_placebo_post   min_placebo_diff \n               105                -21 \n\nsummary_bp(bp_list, \"max\")\n\n max_treatment_pre max_treatment_post max_treatment_diff    max_placebo_pre \n               151                146                 21                152 \n  max_placebo_post   max_placebo_diff \n               143                 33"
  }
]